<script>
    const _fetch = window.fetch;//保存
    window.fetch = function(url, options) {//fetch返回一个promise
        // return new Promise((resolve, reject) => {
        //     _fetch(url,options).then(res => {
        //         console.log(res);
        //         resolve(res);
        //     })
        //     .catch(reject);
        // })
        return _fetch(url,options).then((res) => {
            console.log(res.url, '成功了');
            return res;
        })
    }

    // fetch() 接受第二个可选参数，一个可以控制不同配置的 init 对象：
    fetch('http://neteasecloudmusicapi.zhaoboy.com/search?keywords=%E6%B5%B7%E9%98%94%E5%A4%A9%E7%A9%BA',{})
    .then(res => {
        // console.log(res.json());
        //通过网络获取一个 JSON 文件并将其打印到控制台
        //返回的promise只是一个 HTTP 响应，而不是真的JSON。
        //为了获取JSON的内容，我们需要使用 json() 方法
        return res.json();
    })
    .then(r => {
        console.log(r);
    })
</script>